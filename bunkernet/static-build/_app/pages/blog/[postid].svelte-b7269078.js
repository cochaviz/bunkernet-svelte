import{S as t,i as s,s as n,e as a,c as e,a as o,d as r,M as c,b as i,f as p,F as l,P as u,G as d,k as h,n as f,A as m,Q as g}from"../../chunks/vendor-a4d1f3d1.js";function x(t){let s,n,h,f,m;return{c(){s=a("button"),n=a("img"),this.h()},l(t){s=e(t,"BUTTON",{class:!0});var a=o(s);n=e(a,"IMG",{src:!0,alt:!0}),a.forEach(r),this.h()},h(){c(n.src,h="/copy.png")||i(n,"src","/copy.png"),i(n,"alt","copy"),i(s,"class","copy_button")},m(a,e){p(a,s,e),l(s,n),f||(m=u(s,"click",t[0]),f=!0)},p:d,i:d,o:d,d(t){t&&r(s),f=!1,m()}}}function b(t,s,n){let{parent:a}=s;return t.$$set=t=>{"parent"in t&&n(1,a=t.parent)},[function(){let t=a.innerText||a.textContent;navigator.clipboard.writeText(t)},a]}class y extends t{constructor(t){super(),s(this,t,b,x,n,{parent:1})}}function T(t){let s,n,c;return{c(){s=a("div"),n=h(),c=a("div"),this.h()},l(t){s=e(t,"DIV",{class:!0,id:!0}),o(s).forEach(r),n=f(t),c=e(t,"DIV",{class:!0}),o(c).forEach(r),this.h()},h(){i(s,"class","max-w-5xl mx-auto"),i(s,"id","org"),i(c,"class","m-8 sm:m-16")},m(a,e){p(a,s,e),s.innerHTML=t[0],p(a,n,e),p(a,c,e)},p(t,[n]){1&n&&(s.innerHTML=t[0])},i:d,o:d,d(t){t&&r(s),t&&r(n),t&&r(c)}}}async function v({page:t,fetch:s,session:n,stuff:a}){const e=`/blog/${t.params.postid}.json`,o=await s(e);if(o.ok){const{post:t}=await o.json();return{props:{post:t}}}return{status:o.status,error:new Error(`Could not load ${e}`)}}function w(t,s,n){let{post:a}=s;return m((()=>{g.highlightAll(),renderLatex();let t=document.getElementsByTagName("pre");for(const s in t){const n=document.createElement("div");n.setAttribute("class","copy_button_container");const a=t[s];t[s].replaceWith(n),n.appendChild(a),new y({target:a,anchor:null,props:{parent:a}})}})),t.$$set=t=>{"post"in t&&n(0,a=t.post)},[a]}class E extends t{constructor(t){super(),s(this,t,w,T,n,{post:0})}}export{E as default,v as load};
